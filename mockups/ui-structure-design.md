# UI構造設計書
## 管理特化型CRMシステム モックアップ

**文書バージョン**: 1.0  
**作成日**: 2025-01-27  
**対象システム**: 顧客管理ツール（管理特化型CRM）

---

## 1. UI設計概要

### 1.1 設計コンセプト
- **効率性重視**: 最少クリックで情報にアクセス
- **情報密度**: 一画面に必要な情報を集約表示
- **直感的操作**: Excel経験者が迷わず使える設計
- **レスポンシブ**: PC・タブレット対応（スマホは閲覧のみ）

### 1.2 主要ユーザー行動パターン
1. **情報検索**: 企業名/担当者名で素早く検索
2. **履歴確認**: 顧客の過去対応をすぐに確認
3. **TODO管理**: 抽出されたTODOを効率的に処理
4. **情報更新**: 企業情報・商材状況を迅速に更新

---

## 2. サイト構造・ページ構成

### 2.1 メインナビゲーション
```
CRMシステム
├── 📊 ダッシュボード           # システム状況・最新情報
├── 🏢 企業管理
│   ├── 企業一覧               # 検索・フィルタ・一覧表示
│   ├── 企業詳細               # 情報・履歴・商材を統合表示
│   ├── 企業登録/編集          # 自由項目対応入力フォーム
│   └── 項目設定               # カスタムフィールド管理
├── 📧 メール・対応履歴
│   ├── 対応履歴一覧           # 全体・企業別履歴表示
│   ├── メール詳細             # 個別メール表示・TODO抽出
│   └── TODO管理               # TODO一覧・管理画面
├── 📦 商材管理
│   ├── 商材マスタ一覧         # 商材情報管理
│   ├── 商材登録/編集          # 自由項目対応
│   └── 導入状況一覧           # 企業別導入状況表示
├── 📥 データ管理
│   ├── インポート             # Excel/CSV取込
│   ├── エクスポート           # データ出力
│   └── インポート履歴         # 取込結果確認
└── ⚙️ システム管理
    ├── ユーザー管理           # ユーザー登録・権限設定
    ├── システム監視           # 稼働状況・パフォーマンス
    ├── セキュリティ管理       # アクセスログ・セキュリティ状況
    └── バックアップ管理       # バックアップ状況・復旧操作
```

### 2.2 ページ優先度分類

#### 🔥 Phase 1: 必須ページ（基盤）
- ログイン画面
- ダッシュボード
- 企業一覧
- 企業詳細
- 企業登録/編集
- システム監視

#### ⭐ Phase 2: コア機能ページ
- 対応履歴一覧
- メール詳細
- TODO管理
- 商材マスタ一覧
- 商材登録/編集

#### 💡 Phase 3: 効率化ページ
- インポート
- エクスポート
- 項目設定
- ユーザー管理

---

## 3. ユーザーフロー設計

### 3.1 メインユーザーフロー

#### 📋 企業情報管理フロー
```
ログイン → ダッシュボード → 企業一覧
                          ↓
                        [検索/フィルタ]
                          ↓
                        企業選択 → 企業詳細画面
                          ↓        ↓
                        [新規登録] [編集] [履歴確認] [商材確認]
                          ↓        ↓        ↓        ↓
                        登録画面  編集画面  履歴画面  商材画面
```

#### 📧 メール・TODO管理フロー
```
ダッシュボード → TODO一覧/アラート
    ↓              ↓
対応履歴一覧 → メール詳細 → TODO抽出・確認 → TODO完了
    ↓              ↓           ↓
[企業別表示] [全文検索] [AI抽出承認] → 企業詳細へ
```

#### 📦 商材管理フロー
```
商材マスタ一覧 → 商材詳細/編集
    ↓              ↓
導入状況一覧 → 企業別商材状況 → 提案フラグ更新
    ↓              ↓              ↓
[企業別表示] [商材別表示] [状況更新] → 企業詳細へ
```

### 3.2 管理者フロー
```
システム管理 → システム監視 → 異常検知時の対応
    ↓              ↓              ↓
ユーザー管理 → セキュリティ管理 → バックアップ管理
    ↓              ↓              ↓
[権限設定] [ログ確認] [手動バックアップ/復旧]
```

---

## 4. レイアウト・ナビゲーション設計

### 4.1 基本レイアウト構造
```
┌─────────────────────────────────────────────────────────┐
│ ヘッダー [ロゴ] [ユーザー情報] [ログアウト] [アラート]  │
├─────────────────────────────────────────────────────────┤
│ │                                                     │
│ │ サイドナビ     メインコンテンツエリア                │
│ │ ├📊ダッシュボード  ┌─────────────────────────────┐   │
│ │ ├🏢企業管理        │                             │   │
│ │ ├📧メール履歴      │     ページ固有コンテンツ     │   │
│ │ ├📦商材管理        │                             │   │
│ │ ├📥データ管理      │                             │   │
│ │ └⚙️システム管理    │                             │   │
│ │                   └─────────────────────────────┘   │
├─────────────────────────────────────────────────────────┤
│ フッター [システム情報] [ヘルプ] [バージョン情報]       │
└─────────────────────────────────────────────────────────┘
```

### 4.2 ナビゲーション設計原則

#### サイドナビゲーション
- **常時表示**: 全ページで一貫したナビゲーション
- **アイコン＋テキスト**: 視認性と理解しやすさ
- **階層表示**: メニュー展開でサブメニュー表示
- **現在位置表示**: アクティブページの強調表示

#### ブレッドクラム
- **現在位置明示**: トップ > 企業管理 > 企業詳細 > [企業名]
- **クリック可能**: 上位階層への直接遷移
- **動的表示**: ページ内容に応じた表示

### 4.3 モバイル対応設計
```
スマートフォン（768px以下）
┌─────────────────────┐
│ ☰ [ロゴ] [👤] [🔔] │ ← ハンバーガーメニュー
├─────────────────────┤
│                     │
│   メインコンテンツ   │
│                     │
│   （PC版を縦積み）   │
│                     │
├─────────────────────┤
│ [ホーム][検索][TODO] │ ← ボトムナビ（主要機能のみ）
└─────────────────────┘
```

---

## 5. 主要コンポーネント設計

### 5.1 検索・フィルタコンポーネント
```
┌─────────────────────────────────────────────┐
│ 🔍 [検索ワード入力欄          ] [検索ボタン] │
├─────────────────────────────────────────────┤
│ フィルタ: [担当者▼] [業種▼] [ステータス▼]   │
│ [保存済み検索▼] [検索条件クリア] [保存]     │
└─────────────────────────────────────────────┘
```

### 5.2 データテーブルコンポーネント
```
┌─────────────────────────────────────────────────────┐
│ 📊 検索結果: 156件                    [エクスポート] │
├─────────────────────────────────────────────────────┤
│ ☑️ │企業名    │担当者  │ステータス│最終連絡日│操作 │
├─────────────────────────────────────────────────────┤
│ ☑️ │○○商事   │山田   │既存顧客  │2025/01/25│📝📧│
│ ☑️ │××工業   │佐藤   │見込み客  │2025/01/20│📝📧│
│ ☑️ │△△製作所 │田中   │休眠     │2024/12/15│📝📧│
├─────────────────────────────────────────────────────┤
│ [< 前へ] 1 2 3 ... 16 [次へ >]          [25件表示▼] │
└─────────────────────────────────────────────────────┘
```

### 5.3 TODOアラートコンポーネント
```
┌─────────────────────────────────────────────┐
│ 🚨 緊急TODO (2件)                           │
├─────────────────────────────────────────────┤
│ 🔴 明日期限: ○○商事 見積回答 [詳細] [完了] │
│ 🟡 今週期限: ××工業 提案書作成 [詳細] [完了]│
└─────────────────────────────────────────────┘
```

### 5.4 メール履歴コンポーネント
```
┌─────────────────────────────────────────────────────┐
│ 📧 対応履歴 (○○商事)                    [全て表示] │
├─────────────────────────────────────────────────────┤
│ 2025/01/25 15:30 [受信] 件名: 見積について        │
│ 👤 田中様 → 山田                              📎1 │
│ 内容: いつもお世話になっております...        [詳細]│
├─────────────────────────────────────────────────────┤
│ 2025/01/24 09:15 [送信] 件名: Re: 見積について    │
│ 👤 山田 → 田中様                                   │
│ 内容: ご連絡ありがとうございます...          [詳細]│
├─────────────────────────────────────────────────────┤
│ [もっと見る] [検索] [期間指定]                      │
└─────────────────────────────────────────────────────┘
```

---

## 6. 画面間遷移設計

### 6.1 主要遷移パターン

#### パターン1: 検索→詳細→編集
```
企業一覧 → 企業詳細 → 企業編集 → 保存完了 → 企業詳細
   ↑         ↓         ↓                    ↓
[戻る]    [履歴表示] [キャンセル]          [一覧へ]
```

#### パターン2: TODO→対応→完了
```
TODO一覧 → メール詳細 → TODO編集 → 完了 → TODO一覧
   ↑         ↓          ↓               ↓
[ダッシュボード] [企業詳細] [キャンセル] [次のTODO]
```

#### パターン3: 情報横断表示
```
企業詳細 ←→ 対応履歴 ←→ 商材状況 ←→ TODO一覧
   ↓           ↓          ↓          ↓
[編集]      [メール詳細] [提案更新] [TODO詳細]
```

### 6.2 ショートカット・効率化機能
- **キーボードショートカット**: Ctrl+F（検索）、Ctrl+N（新規作成）
- **クイックアクション**: 企業名クリック→詳細、ダブルクリック→編集
- **タブ機能**: 複数企業を同時に開いて比較
- **最近の項目**: よく見る企業・商材への素早いアクセス

---

## 7. レスポンシブデザイン方針

### 7.1 ブレークポイント
- **デスクトップ**: 1200px以上（フル機能）
- **タブレット**: 768px-1199px（機能制限なし、レイアウト調整）
- **スマートフォン**: 767px以下（閲覧中心、必要最小限の操作）

### 7.2 デバイス別機能制限
```
機能                デスクトップ タブレット スマートフォン
企業情報閲覧        ○           ○         ○
企業情報編集        ○           ○         △（簡易版）
メール履歴表示      ○           ○         ○
TODO管理            ○           ○         ○（リスト形式）
検索・フィルタ      ○           ○         ○（単純化）
インポート機能      ○           △         ×
システム管理        ○           △         ×
```

---

## 8. アクセシビリティ対応

### 8.1 基本対応
- **キーボードナビゲーション**: Tab、Enter、ESCによる操作
- **フォーカス表示**: 現在選択中の要素を明確に表示
- **色覚対応**: 色のみに依存しない情報伝達
- **文字サイズ**: ユーザー設定によるフォントサイズ変更対応

### 8.2 読み上げ対応
- **適切なHTMLマークアップ**: heading、list、tableの適切な使用
- **alt属性**: 画像・アイコンの代替テキスト
- **ラベル関連付け**: フォーム要素とラベルの明確な関連付け

---

**UI構造設計書完了**  
**次のステップ**: ワイヤーフレーム作成