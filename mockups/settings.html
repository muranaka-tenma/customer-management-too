<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>個人設定 - 最強タスク管理ツール</title>
    
    <!-- Material UI CSS -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet">
    
    <!-- Material UI JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    
    <style>
        body {
            background-color: #f5f5f5;
            margin: 0;
            font-family: 'Roboto', sans-serif;
        }
        
        .header {
            background: linear-gradient(135deg, #1976d2 0%, #42a5f5 100%);
            color: white;
            padding: 0 20px;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .main-container {
            display: flex;
            height: calc(100vh - 64px);
        }
        
        .sidebar {
            width: 280px;
            background: white;
            box-shadow: 2px 0 4px rgba(0,0,0,0.1);
            padding: 20px;
        }
        
        .content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }
        
        .page-header {
            background: white;
            padding: 30px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border-left: 4px solid #1976d2;
        }
        
        .page-title {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #1976d2;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .breadcrumb {
            color: #666;
            font-size: 14px;
        }
        
        .breadcrumb a {
            color: #1976d2;
            text-decoration: none;
        }
        
        .settings-container {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 20px;
        }
        
        .settings-nav {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            height: fit-content;
        }
        
        .settings-content {
            background: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .nav-item:hover {
            background: #f5f5f5;
        }
        
        .nav-item.active {
            background: #e3f2fd;
            color: #1976d2;
            font-weight: 500;
        }
        
        .nav-icon {
            font-size: 20px;
        }
        
        .section-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .form-section {
            margin-bottom: 40px;
        }
        
        .form-section h3 {
            color: #1976d2;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }
        
        .form-input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
            transition: border-color 0.2s;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #1976d2;
        }
        
        .form-select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
            background: white;
        }
        
        .form-textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
            min-height: 100px;
            resize: vertical;
        }
        
        .switch-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .switch-info {
            flex: 1;
        }
        
        .switch-title {
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .switch-desc {
            font-size: 14px;
            color: #666;
        }
        
        .switch {
            position: relative;
            width: 60px;
            height: 32px;
            background: #ccc;
            border-radius: 16px;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .switch.active {
            background: #1976d2;
        }
        
        .switch-handle {
            position: absolute;
            top: 4px;
            left: 4px;
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .switch.active .switch-handle {
            transform: translateX(28px);
        }
        
        .color-picker-container {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .color-option {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.2s;
            position: relative;
        }
        
        .color-option.selected {
            border-color: #1976d2;
            transform: scale(1.1);
        }
        
        .color-option.blue { background: #1976d2; }
        .color-option.green { background: #4caf50; }
        .color-option.orange { background: #ff9800; }
        .color-option.purple { background: #9c27b0; }
        .color-option.red { background: #f44336; }
        .color-option.teal { background: #009688; }
        
        .btn-primary {
            background: #1976d2;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
            transition: background 0.2s;
        }
        
        .btn-primary:hover {
            background: #1565c0;
        }
        
        .btn-secondary {
            background: white;
            color: #666;
            border: 1px solid #ddd;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .btn-secondary:hover {
            background: #f5f5f5;
            border-color: #999;
        }
        
        .btn-danger {
            background: #f44336;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
            transition: background 0.2s;
        }
        
        .btn-danger:hover {
            background: #d32f2f;
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }
        
        .profile-picture-section {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .profile-picture {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(45deg, #1976d2, #42a5f5);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
            font-weight: bold;
            margin: 0 auto 20px;
        }
        
        .template-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .template-card {
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .template-card:hover {
            border-color: #1976d2;
            background: #f8f9fa;
        }
        
        .template-card.selected {
            border-color: #1976d2;
            background: #e3f2fd;
        }
        
        .template-name {
            font-weight: bold;
            margin-bottom: 10px;
            color: #1976d2;
        }
        
        .template-stages {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
        }
        
        .stage-chip {
            background: #e0e0e0;
            color: #666;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
        }
        
        .menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s;
            margin-bottom: 4px;
        }
        
        .menu-item:hover {
            background: #f5f5f5;
        }
        
        .menu-item.active {
            background: #e3f2fd;
            color: #1976d2;
        }
        
        .menu-icon {
            font-size: 20px;
        }
        
        .avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(45deg, #1976d2, #42a5f5);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 14px;
        }
        
        .hidden {
            display: none;
        }
        
        .success-message {
            background: #e8f5e8;
            color: #2e7d32;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .danger-zone {
            background: #ffebee;
            border: 1px solid #ffcdd2;
            border-radius: 8px;
            padding: 20px;
            margin-top: 40px;
        }
        
        .danger-zone h4 {
            color: #d32f2f;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .danger-zone p {
            color: #666;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <!-- ヘッダー -->
    <header class="header">
        <div class="logo">
            <i class="material-icons" style="vertical-align: middle; margin-right: 8px;">dashboard</i>
            最強タスク管理ツール
        </div>
        
        <div class="user-info">
            <div style="display: flex; align-items: center; gap: 8px;">
                <div class="avatar">田</div>
                <span>田中太郎</span>
            </div>
            
            <i class="material-icons" style="cursor: pointer; font-size: 24px;">logout</i>
        </div>
    </header>

    <div class="main-container">
        <!-- サイドバー -->
        <nav class="sidebar">
            <div class="menu-item">
                <i class="material-icons menu-icon">dashboard</i>
                <span>メインダッシュボード</span>
            </div>
            
            <div class="menu-item">
                <i class="material-icons menu-icon">folder</i>
                <span>プロジェクト管理</span>
            </div>
            
            <div class="menu-item active">
                <i class="material-icons menu-icon">settings</i>
                <span>個人設定</span>
            </div>
        </nav>

        <!-- メインコンテンツ -->
        <main class="content">
            <!-- ページヘッダー -->
            <div class="page-header">
                <div class="page-title">
                    <i class="material-icons">settings</i>
                    個人設定
                </div>
                <div class="breadcrumb">
                    <a href="#">ホーム</a> > 個人設定
                </div>
            </div>

            <!-- 設定コンテナ -->
            <div class="settings-container">
                <!-- 設定ナビゲーション -->
                <div class="settings-nav">
                    <div class="nav-item active" onclick="showSection('profile')">
                        <i class="material-icons nav-icon">person</i>
                        <span>プロフィール</span>
                    </div>
                    
                    <div class="nav-item" onclick="showSection('notifications')">
                        <i class="material-icons nav-icon">notifications</i>
                        <span>通知設定</span>
                    </div>
                    
                    <div class="nav-item" onclick="showSection('appearance')">
                        <i class="material-icons nav-icon">palette</i>
                        <span>表示設定</span>
                    </div>
                    
                    <div class="nav-item" onclick="showSection('workflow')">
                        <i class="material-icons nav-icon">linear_scale</i>
                        <span>ワークフロー</span>
                    </div>
                    
                    <div class="nav-item" onclick="showSection('privacy')">
                        <i class="material-icons nav-icon">security</i>
                        <span>プライバシー</span>
                    </div>
                </div>

                <!-- 設定コンテンツ -->
                <div class="settings-content">
                    <!-- プロフィール設定 -->
                    <div id="profile-section" class="settings-section">
                        <div class="section-title">
                            <i class="material-icons">person</i>
                            プロフィール設定
                        </div>
                        
                        <div class="profile-picture-section">
                            <div class="profile-picture" id="profilePicture">田</div>
                            <button class="btn-secondary" onclick="changeProfilePicture()">
                                <i class="material-icons">photo_camera</i>
                                写真を変更
                            </button>
                        </div>
                        
                        <div class="form-section">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">氏名</label>
                                    <input type="text" class="form-input" value="田中太郎" id="userName">
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">メールアドレス</label>
                                    <input type="email" class="form-input" value="tanaka@example.com" id="userEmail">
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">部署</label>
                                    <input type="text" class="form-input" value="開発部" id="userDepartment">
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">役職</label>
                                    <input type="text" class="form-input" value="プロジェクトマネージャー" id="userPosition">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">自己紹介</label>
                                <textarea class="form-textarea" id="userBio" placeholder="自己紹介文を入力してください...">プロジェクト管理とチーム運営を担当しています。効率的なタスク管理を通じて、チーム全体の生産性向上に取り組んでいます。</textarea>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h3>
                                <i class="material-icons">lock</i>
                                パスワード変更
                            </h3>
                            
                            <div class="form-group">
                                <label class="form-label">現在のパスワード</label>
                                <input type="password" class="form-input" id="currentPassword">
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">新しいパスワード</label>
                                    <input type="password" class="form-input" id="newPassword">
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">パスワード確認</label>
                                    <input type="password" class="form-input" id="confirmPassword">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 通知設定 -->
                    <div id="notifications-section" class="settings-section hidden">
                        <div class="section-title">
                            <i class="material-icons">notifications</i>
                            通知設定
                        </div>
                        
                        <div class="form-section">
                            <h3>
                                <i class="material-icons">email</i>
                                メール通知
                            </h3>
                            
                            <div class="switch-container">
                                <div class="switch-info">
                                    <div class="switch-title">タスク割り当て通知</div>
                                    <div class="switch-desc">新しいタスクが割り当てられた時にメールで通知</div>
                                </div>
                                <div class="switch active" onclick="toggleSwitch(this)">
                                    <div class="switch-handle"></div>
                                </div>
                            </div>
                            
                            <div class="switch-container">
                                <div class="switch-info">
                                    <div class="switch-title">期限切れアラート</div>
                                    <div class="switch-desc">タスクの期限が近づいた時にメールで通知</div>
                                </div>
                                <div class="switch active" onclick="toggleSwitch(this)">
                                    <div class="switch-handle"></div>
                                </div>
                            </div>
                            
                            <div class="switch-container">
                                <div class="switch-info">
                                    <div class="switch-title">プロジェクト更新通知</div>
                                    <div class="switch-desc">参加しているプロジェクトの重要な更新をメールで通知</div>
                                </div>
                                <div class="switch" onclick="toggleSwitch(this)">
                                    <div class="switch-handle"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h3>
                                <i class="material-icons">desktop_windows</i>
                                ブラウザ通知
                            </h3>
                            
                            <div class="switch-container">
                                <div class="switch-info">
                                    <div class="switch-title">リアルタイム通知</div>
                                    <div class="switch-desc">タスクの更新や変更をブラウザで即座に通知</div>
                                </div>
                                <div class="switch active" onclick="toggleSwitch(this)">
                                    <div class="switch-handle"></div>
                                </div>
                            </div>
                            
                            <div class="switch-container">
                                <div class="switch-info">
                                    <div class="switch-title">コメント通知</div>
                                    <div class="switch-desc">タスクにコメントが追加された時にブラウザで通知</div>
                                </div>
                                <div class="switch active" onclick="toggleSwitch(this)">
                                    <div class="switch-handle"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h3>
                                <i class="material-icons">schedule</i>
                                通知頻度
                            </h3>
                            
                            <div class="form-group">
                                <label class="form-label">ダイジェスト送信頻度</label>
                                <select class="form-select">
                                    <option>リアルタイム</option>
                                    <option selected>1日1回（朝9時）</option>
                                    <option>週1回（月曜日朝）</option>
                                    <option>通知しない</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- 表示設定 -->
                    <div id="appearance-section" class="settings-section hidden">
                        <div class="section-title">
                            <i class="material-icons">palette</i>
                            表示設定
                        </div>
                        
                        <div class="form-section">
                            <h3>
                                <i class="material-icons">color_lens</i>
                                テーマカラー
                            </h3>
                            
                            <div class="color-picker-container">
                                <div class="color-option blue selected" onclick="selectColor(this, 'blue')"></div>
                                <div class="color-option green" onclick="selectColor(this, 'green')"></div>
                                <div class="color-option orange" onclick="selectColor(this, 'orange')"></div>
                                <div class="color-option purple" onclick="selectColor(this, 'purple')"></div>
                                <div class="color-option red" onclick="selectColor(this, 'red')"></div>
                                <div class="color-option teal" onclick="selectColor(this, 'teal')"></div>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h3>
                                <i class="material-icons">view_module</i>
                                表示オプション
                            </h3>
                            
                            <div class="switch-container">
                                <div class="switch-info">
                                    <div class="switch-title">コンパクト表示</div>
                                    <div class="switch-desc">タスクカードを小さく表示して一度に多くの情報を確認</div>
                                </div>
                                <div class="switch" onclick="toggleSwitch(this)">
                                    <div class="switch-handle"></div>
                                </div>
                            </div>
                            
                            <div class="switch-container">
                                <div class="switch-info">
                                    <div class="switch-title">アニメーション効果</div>
                                    <div class="switch-desc">カードの移動やボタンクリック時のアニメーション効果</div>
                                </div>
                                <div class="switch active" onclick="toggleSwitch(this)">
                                    <div class="switch-handle"></div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">言語設定</label>
                                <select class="form-select">
                                    <option selected>日本語</option>
                                    <option>English</option>
                                    <option>中文 (简体)</option>
                                    <option>한국어</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- ワークフロー設定 -->
                    <div id="workflow-section" class="settings-section hidden">
                        <div class="section-title">
                            <i class="material-icons">linear_scale</i>
                            ワークフロー設定
                        </div>
                        
                        <div class="form-section">
                            <h3>
                                <i class="material-icons">view_kanban</i>
                                デフォルトワークフロー
                            </h3>
                            
                            <div class="template-grid">
                                <div class="template-card selected" onclick="selectTemplate(this)">
                                    <div class="template-name">標準ワークフロー</div>
                                    <div class="template-stages">
                                        <span class="stage-chip">TO DO</span>
                                        <span class="stage-chip">進行中</span>
                                        <span class="stage-chip">レビュー中</span>
                                        <span class="stage-chip">完了</span>
                                    </div>
                                </div>
                                
                                <div class="template-card" onclick="selectTemplate(this)">
                                    <div class="template-name">開発ワークフロー</div>
                                    <div class="template-stages">
                                        <span class="stage-chip">バックログ</span>
                                        <span class="stage-chip">設計</span>
                                        <span class="stage-chip">開発</span>
                                        <span class="stage-chip">テスト</span>
                                        <span class="stage-chip">リリース</span>
                                    </div>
                                </div>
                                
                                <div class="template-card" onclick="selectTemplate(this)">
                                    <div class="template-name">承認ワークフロー</div>
                                    <div class="template-stages">
                                        <span class="stage-chip">作成</span>
                                        <span class="stage-chip">上司確認</span>
                                        <span class="stage-chip">部長承認</span>
                                        <span class="stage-chip">完了</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h3>
                                <i class="material-icons">auto_awesome</i>
                                自動化設定
                            </h3>
                            
                            <div class="switch-container">
                                <div class="switch-info">
                                    <div class="switch-title">自動期限設定</div>
                                    <div class="switch-desc">新しいタスクに自動的にデフォルトの期限を設定</div>
                                </div>
                                <div class="switch active" onclick="toggleSwitch(this)">
                                    <div class="switch-handle"></div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">デフォルト期限（日数）</label>
                                <select class="form-select">
                                    <option>1日</option>
                                    <option>3日</option>
                                    <option selected>7日</option>
                                    <option>14日</option>
                                    <option>30日</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- プライバシー設定 -->
                    <div id="privacy-section" class="settings-section hidden">
                        <div class="section-title">
                            <i class="material-icons">security</i>
                            プライバシー・セキュリティ
                        </div>
                        
                        <div class="form-section">
                            <h3>
                                <i class="material-icons">visibility</i>
                                プライバシー設定
                            </h3>
                            
                            <div class="switch-container">
                                <div class="switch-info">
                                    <div class="switch-title">プロフィール公開</div>
                                    <div class="switch-desc">他のメンバーがあなたのプロフィールを閲覧可能</div>
                                </div>
                                <div class="switch active" onclick="toggleSwitch(this)">
                                    <div class="switch-handle"></div>
                                </div>
                            </div>
                            
                            <div class="switch-container">
                                <div class="switch-info">
                                    <div class="switch-title">オンライン状態表示</div>
                                    <div class="switch-desc">他のメンバーにオンライン状態を表示</div>
                                </div>
                                <div class="switch active" onclick="toggleSwitch(this)">
                                    <div class="switch-handle"></div>
                                </div>
                            </div>
                            
                            <div class="switch-container">
                                <div class="switch-info">
                                    <div class="switch-title">アクティビティ履歴</div>
                                    <div class="switch-desc">タスクの操作履歴を他のメンバーに表示</div>
                                </div>
                                <div class="switch" onclick="toggleSwitch(this)">
                                    <div class="switch-handle"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h3>
                                <i class="material-icons">shield</i>
                                セキュリティ
                            </h3>
                            
                            <div class="switch-container">
                                <div class="switch-info">
                                    <div class="switch-title">2段階認証</div>
                                    <div class="switch-desc">ログイン時に追加の認証ステップを要求</div>
                                </div>
                                <div class="switch" onclick="toggleSwitch(this)">
                                    <div class="switch-handle"></div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">セッション有効期限</label>
                                <select class="form-select">
                                    <option>1時間</option>
                                    <option>8時間</option>
                                    <option selected>24時間</option>
                                    <option>1週間</option>
                                    <option>無期限</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="danger-zone">
                            <h4>
                                <i class="material-icons">warning</i>
                                危険な操作
                            </h4>
                            <p>以下の操作は取り消すことができません。慎重に実行してください。</p>
                            
                            <div style="display: flex; gap: 15px;">
                                <button class="btn-danger" onclick="exportData()">
                                    <i class="material-icons">download</i>
                                    データエクスポート
                                </button>
                                
                                <button class="btn-danger" onclick="deleteAccount()">
                                    <i class="material-icons">delete_forever</i>
                                    アカウント削除
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- 保存ボタン -->
                    <div class="button-group">
                        <button class="btn-primary" onclick="saveSettings()">
                            <i class="material-icons">save</i>
                            設定を保存
                        </button>
                        
                        <button class="btn-secondary" onclick="resetSettings()">
                            <i class="material-icons">refresh</i>
                            リセット
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        function showSection(sectionName) {
            // ナビゲーション項目のアクティブ状態を更新
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.closest('.nav-item').classList.add('active');
            
            // セクションの表示/非表示を切り替え
            document.querySelectorAll('.settings-section').forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById(sectionName + '-section').classList.remove('hidden');
        }

        function toggleSwitch(switchElement) {
            switchElement.classList.toggle('active');
        }

        function selectColor(colorElement, colorName) {
            document.querySelectorAll('.color-option').forEach(option => {
                option.classList.remove('selected');
            });
            colorElement.classList.add('selected');
            
            // 実際の実装では、選択されたカラーをテーマに適用
            console.log('選択されたカラー:', colorName);
        }

        function selectTemplate(templateElement) {
            document.querySelectorAll('.template-card').forEach(card => {
                card.classList.remove('selected');
            });
            templateElement.classList.add('selected');
        }

        function changeProfilePicture() {
            const fileInput = document.createElement('input');
            fileInput.type = 'file';
            fileInput.accept = 'image/*';
            
            fileInput.onchange = function(e) {
                const file = e.target.files[0];
                if (file) {
                    // 実際の実装では、ファイルをアップロードして表示
                    alert(`プロフィール写真を${file.name}に変更しました。`);
                }
            };
            
            fileInput.click();
        }

        function saveSettings() {
            // 成功メッセージを表示
            const successMessage = document.createElement('div');
            successMessage.className = 'success-message';
            successMessage.innerHTML = `
                <i class="material-icons">check_circle</i>
                設定を保存しました。
            `;
            
            const settingsContent = document.querySelector('.settings-content');
            settingsContent.insertBefore(successMessage, settingsContent.firstChild);
            
            // 3秒後にメッセージを削除
            setTimeout(() => {
                successMessage.remove();
            }, 3000);
            
            // 実際の実装では、フォームデータを収集してAPIに送信
            const formData = {
                userName: document.getElementById('userName').value,
                userEmail: document.getElementById('userEmail').value,
                userDepartment: document.getElementById('userDepartment').value,
                userPosition: document.getElementById('userPosition').value,
                userBio: document.getElementById('userBio').value
            };
            
            console.log('保存される設定:', formData);
        }

        function resetSettings() {
            if (confirm('設定をリセットしますか？\n\n変更内容は失われます。')) {
                // フォームをリセット
                document.getElementById('userName').value = '田中太郎';
                document.getElementById('userEmail').value = 'tanaka@example.com';
                document.getElementById('userDepartment').value = '開発部';
                document.getElementById('userPosition').value = 'プロジェクトマネージャー';
                document.getElementById('userBio').value = 'プロジェクト管理とチーム運営を担当しています。効率的なタスク管理を通じて、チーム全体の生産性向上に取り組んでいます。';
                
                alert('設定をリセットしました。');
            }
        }

        function exportData() {
            if (confirm('個人データをエクスポートしますか？\n\n全てのタスク、コメント、設定データがダウンロードされます。')) {
                alert('データエクスポートを開始します。\n\n完了するとダウンロードが開始されます。');
            }
        }

        function deleteAccount() {
            const confirmation = prompt('アカウントを削除するには「削除」と入力してください。\n\nこの操作は取り消すことができません。');
            
            if (confirmation === '削除') {
                if (confirm('本当にアカウントを削除しますか？\n\n全てのデータが永久に失われます。')) {
                    alert('アカウント削除処理を開始します。\n\n確認メールが送信されます。');
                }
            } else if (confirmation !== null) {
                alert('正しく「削除」と入力してください。');
            }
        }

        // 初期化処理
        document.addEventListener('DOMContentLoaded', function() {
            // プロフィール画像の初期設定
            const userName = document.getElementById('userName').value;
            if (userName) {
                document.getElementById('profilePicture').textContent = userName.charAt(0);
            }
        });
    </script>
</body>
</html>