# ユーザーストーリー定義書
## 顧客管理ツール（BtoB CRM）

**文書バージョン**: 1.0  
**作成日**: 2025-01-27  
**最終更新**: 2025-01-27  

---

## 1. ペルソナ定義

### 1.1 営業担当者（佐藤 太郎）
- **職種**: BtoB営業担当
- **経験年数**: 3年
- **ITスキル**: 中級（Excel、Gmail、Salesforce経験あり）
- **課題**: 顧客情報の管理が煩雑、メール履歴の追跡が困難
- **目標**: 効率的な顧客対応、営業活動の可視化

### 1.2 営業マネージャー（田中 花子）
- **職種**: 営業部マネージャー
- **経験年数**: 10年
- **ITスキル**: 上級（各種ツール使用経験豊富）
- **課題**: チーム全体の進捗把握、売上予測の精度向上
- **目標**: データドリブンな営業戦略立案

### 1.3 システム管理者（山田 次郎）
- **職種**: 情報システム部門
- **経験年数**: 8年
- **ITスキル**: エキスパート
- **課題**: セキュリティ確保、システム運用効率化
- **目標**: 安全で使いやすいシステム運用

---

## 2. エピック・ユーザーストーリー

### 2.1 認証・セキュリティ エピック

#### US-001: 安全なログイン
**As a** 営業担当者  
**I want to** Google アカウントで安全にログインしたい  
**So that** 業務用アカウントを活用して効率的にシステムを利用できる

**受入条件:**
- Google OAuth2でログインできる
- 多要素認証が有効になっている
- セッション有効期限が適切に管理されている

#### US-002: パスワード管理
**As a** 営業担当者  
**I want to** 強固なパスワードを設定したい  
**So that** アカウントのセキュリティを確保できる

**受入条件:**
- パスワード強度チェックが機能している
- パスワードリセット機能が利用できる
- 過去のパスワードは再利用できない

---

### 2.2 顧客管理 エピック

#### US-003: 企業情報登録
**As a** 営業担当者  
**I want to** 新規見込み企業の情報を素早く登録したい  
**So that** 営業活動を迅速に開始できる

**受入条件:**
- 必須項目（会社名、業種、メールアドレス）が入力できる
- 企業規模や業種を選択肢から選べる
- 自動で自分が担当者として設定される

#### US-004: 担当者情報管理
**As a** 営業担当者  
**I want to** 企業の担当者情報を詳細に管理したい  
**So that** 適切な人にアプローチできる

**受入条件:**
- 担当者の役職・部署・連絡先を記録できる
- メイン担当者と決裁者を区別できる
- 関係性レベル（HOT/WARM/COLD）を設定できる

#### US-005: 顧客検索
**As a** 営業担当者  
**I want to** 顧客情報を素早く検索したい  
**So that** 必要な情報にすぐアクセスできる

**受入条件:**
- 会社名・担当者名での部分一致検索ができる
- 業種・企業規模・ステータスでフィルタできる
- 検索結果が2秒以内で表示される

---

### 2.3 メール管理 エピック

#### US-006: Gmail自動同期
**As a** 営業担当者  
**I want to** Gmailのメールが自動で同期されている  
**So that** 手動でメールをコピーする手間を省ける

**受入条件:**
- 新着メールが5分以内に同期される
- 顧客のメールアドレスと自動で関連付けられる
- 添付ファイルも含めて同期される

#### US-007: メールスレッド表示
**As a** 営業担当者  
**I want to** 顧客とのメール履歴をスレッド形式で確認したい  
**So that** コミュニケーションの流れを把握できる

**受入条件:**
- 時系列順にメールが表示される
- 送信者・受信者が明確に分かる
- 未読・既読状態が表示される

#### US-008: メール優先度設定
**As a** 営業担当者  
**I want to** 重要なメールに優先度を設定したい  
**So that** 対応漏れを防げる

**受入条件:**
- HIGH/MEDIUM/LOW/URGENTの4段階で設定できる
- 優先度の高いメールがリストの上位に表示される
- 優先度別の色分け表示がされる

---

### 2.4 営業プロセス管理 エピック

#### US-009: 提案作成
**As a** 営業担当者  
**I want to** 顧客向けの提案を作成・管理したい  
**So that** 営業活動を体系的に進められる

**受入条件:**
- 提案タイトル・金額・商材を設定できる
- 提案ステータス（下書き・送信済み・検討中等）を管理できる
- 提案履歴が確認できる

#### US-010: 契約管理
**As a** 営業担当者  
**I want to** 成約した契約情報を管理したい  
**So that** 継続的な顧客関係を維持できる

**受入条件:**
- 契約期間・金額・更新設定を記録できる
- 契約期限のアラートが表示される
- 契約ステータスの変更履歴が残る

---

### 2.5 TODO・タスク管理 エピック

#### US-011: TODO作成
**As a** 営業担当者  
**I want to** 顧客対応のTODOを作成したい  
**So that** やるべきことを忘れずに実行できる

**受入条件:**
- タイトル・説明・期限・優先度を設定できる
- 特定の顧客・メールスレッドと関連付けられる
- 進捗状況（TODO/進行中/完了）を管理できる

#### US-012: AI TODO抽出
**As a** 営業担当者  
**I want to** メール内容からTODOを自動で抽出してほしい  
**So that** 対応漏れを防げる

**受入条件:**
- メール内容を分析してアクションアイテムが抽出される
- 抽出されたTODOを確認・編集・承認できる
- 抽出元のメールと紐づけられる

#### US-013: TODO期限アラート
**As a** 営業担当者  
**I want to** TODOの期限が近づいたらアラートがほしい  
**So that** 期限遅れを防げる

**受入条件:**
- 期限1日前にアラートが表示される
- 期限切れのTODOが色分け表示される
- ダッシュボードで期限切れ件数が確認できる

---

### 2.6 AI支援機能 エピック

#### US-014: AI返信文生成
**As a** 営業担当者  
**I want to** AIに返信文の下書きを作成してもらいたい  
**So that** 効率的にメール対応できる

**受入条件:**
- メール履歴に基づいて適切な返信文が生成される
- トーン（友好的・プロフェッショナル・カジュアル）を選択できる
- 生成された文章を編集してから送信できる

#### US-015: メール感情分析
**As a** 営業担当者  
**I want to** 顧客メールの感情を分析してほしい  
**So that** 適切な対応方法を判断できる

**受入条件:**
- ポジティブ・ニュートラル・ネガティブの判定結果が表示される
- 緊急度スコアが数値で表示される
- 重要なキーワードがハイライト表示される

---

### 2.7 統計・分析 エピック

#### US-016: 営業ダッシュボード
**As a** 営業マネージャー  
**I want to** チーム全体の営業活動状況を一覧したい  
**So that** 適切な指導・サポートができる

**受入条件:**
- 担当者別の活動量（メール数・TODO数）が表示される
- 提案数・成約率などのKPIが確認できる
- 期間指定でデータを絞り込める

#### US-017: 顧客分析レポート
**As a** 営業マネージャー  
**I want to** 顧客別の詳細分析結果を確認したい  
**So that** 戦略的な営業計画を立てられる

**受入条件:**
- 顧客別の売上・利益・活動履歴が表示される
- 返信率・レスポンス時間などの指標が確認できる
- レポートをCSV形式で出力できる

---

### 2.8 データ管理 エピック

#### US-018: データインポート
**As a** システム管理者  
**I want to** 既存の顧客データを一括でインポートしたい  
**So that** スムーズにシステムを導入できる

**受入条件:**
- CSV形式のファイルをアップロードできる
- フィールドマッピングを設定できる
- インポート結果（成功/失敗件数）が確認できる

#### US-019: データエクスポート
**As a** 営業マネージャー  
**I want to** 顧客データを外部で分析するためにエクスポートしたい  
**So that** 詳細な分析や他システムとの連携ができる

**受入条件:**
- フィルタ条件を指定してデータを絞り込める
- CSV・Excel形式で出力できる
- 個人情報保護の設定が適用される

---

### 2.9 アラート・通知 エピック

#### US-020: 重要メールアラート
**As a** 営業担当者  
**I want to** 重要な顧客からのメールをすぐに知りたい  
**So that** 迅速な対応ができる

**受入条件:**
- VIP顧客からのメールは即座に通知される
- 緊急キーワードを含むメールは優先表示される
- アラートの重要度が色分けで表示される

#### US-021: 長期未連絡アラート
**As a** 営業担当者  
**I want to** 長期間連絡していない顧客にアラートがほしい  
**So that** 関係性の維持ができる

**受入条件:**
- 設定期間（例：30日）連絡がない顧客が表示される
- 最終連絡日と経過日数が確認できる
- アラート設定を顧客別にカスタマイズできる

---

### 2.10 システム管理 エピック

#### US-022: ユーザー権限管理
**As a** システム管理者  
**I want to** ユーザーの権限を適切に管理したい  
**So that** セキュリティを確保しつつ業務効率を向上させられる

**受入条件:**
- 役割別（管理者・マネージャー・営業・閲覧者）の権限設定ができる
- データアクセス範囲を制限できる
- ユーザーの操作ログが記録される

#### US-023: システム監視
**As a** システム管理者  
**I want to** システムの稼働状況を監視したい  
**So that** 障害の早期発見・対応ができる

**受入条件:**
- システムパフォーマンス（CPU・メモリ使用率）が確認できる
- エラーログがリアルタイムで表示される
- 異常時のアラート通知が届く

---

## 3. 受入基準（Definition of Done）

### 3.1 機能実装の完了条件
- [ ] 機能要件を100%満たしている
- [ ] 単体テストのカバレッジが80%以上
- [ ] 結合テストが全て通過している
- [ ] UIテストが全て通過している
- [ ] コードレビューが完了している

### 3.2 品質基準
- [ ] パフォーマンス要件を満たしている
- [ ] セキュリティ要件を満たしている
- [ ] アクセシビリティ基準（WCAG 2.1 AA）を満たしている
- [ ] クロスブラウザテストが完了している
- [ ] レスポンシブデザインが適用されている

### 3.3 ドキュメント基準
- [ ] ユーザーマニュアルが更新されている
- [ ] API仕様書が更新されている
- [ ] デプロイ手順書が更新されている

---

## 4. ユーザーストーリーの優先度マッピング

### 4.1 Phase 1（MVP: 最小実行可能製品）
**目標**: 基本的な顧客管理とメール連携
- US-001: 安全なログイン
- US-003: 企業情報登録
- US-004: 担当者情報管理
- US-005: 顧客検索
- US-006: Gmail自動同期
- US-007: メールスレッド表示

### 4.2 Phase 2（中核機能拡張）
**目標**: 営業プロセス管理とTODO機能
- US-009: 提案作成
- US-010: 契約管理
- US-011: TODO作成
- US-013: TODO期限アラート
- US-020: 重要メールアラート

### 4.3 Phase 3（AI支援機能）
**目標**: AI機能による効率化
- US-012: AI TODO抽出
- US-014: AI返信文生成
- US-015: メール感情分析
- US-016: 営業ダッシュボード

### 4.4 Phase 4（高度機能・管理機能）
**目標**: データ分析と管理機能強化
- US-017: 顧客分析レポート
- US-018: データインポート
- US-019: データエクスポート
- US-021: 長期未連絡アラート
- US-022: ユーザー権限管理
- US-023: システム監視

---

## 5. ユーザーストーリーテスト計画

### 5.1 テストシナリオ例

#### US-003のテストシナリオ
1. **正常系**: 必須項目を入力して企業情報を登録する
2. **異常系**: 必須項目未入力で登録を試行する
3. **境界値**: 文字数制限の上限値で登録する
4. **権限**: 異なる権限レベルのユーザーで登録を試行する

#### US-006のテストシナリオ
1. **正常系**: Gmail連携設定後、新着メールが自動同期される
2. **異常系**: 認証エラー時の動作確認
3. **性能**: 大量メール同期時のパフォーマンス確認
4. **セキュリティ**: トークン有効期限切れ時の動作確認

---

**文書終了**