# 企業情報自動補完ツール 要件定義書

**バージョン**: 1.0.0  
**最終更新日**: 2025-07-28  
**ステータス**: ドラフト  

## 1. プロジェクト概要

### 1.1 目的と背景

企業名のリストから、手動での情報収集作業を自動化し、住所・電話番号・業種などの基本情報を効率的に補完するローカル完結型のツール。数百社規模の企業情報を一括で処理し、信頼性の高い情報源から自動的に情報を収集することで、業務効率を大幅に向上させる。

### 1.2 ターゲットユーザー

- 個人利用者: 企業情報の収集・整理業務を行う1名のユーザー

### 1.3 核となる機能と価値

以下は、プロジェクトの本質的価値を提供するために「絶対に必要」な機能です。各機能は「この機能がないとプロジェクトの目的達成が不可能になる」という基準で厳選されています。

- CSVファイルのインポート機能: 企業名リストを一括で取り込み処理を開始する - *この機能がないと企業リストを読み込めない*
- 企業情報の自動検索・補完機能: ネット検索により各種情報を自動収集する - *この機能がないと手動作業の削減という目的が達成できない*
- Excel形式でのエクスポート機能: 補完された情報を実用的な形式で出力する - *この機能がないと収集した情報を活用できない*

## 2. 画面一覧

このアプリケーションは以下の画面要素と実際のページで構成されます。各ページのモックアップは作成後に詳細化されます。

### 2.1 画面要素一覧

以下は機能的に必要な全ての画面要素です。これらは必ずしも独立したページとして実装されるわけではありません。

| 画面要素名 | 目的 | 実現する核心的価値 |
|----------|------|----------------|
| ファイルアップロード要素 | CSVファイルの取り込み | データ入力の自動化 |
| 処理進捗表示要素 | 検索処理の進行状況表示 | ユーザビリティ向上 |
| 結果プレビュー要素 | 補完結果の確認 | データ品質の確保 |
| エクスポートボタン要素 | Excel出力の実行 | 成果物の生成 |
| エラー表示要素 | 処理エラーの通知 | 問題の早期発見 |

### 2.2 ページ構成計画

上記の画面要素を、ユーザー体験とナビゲーション効率を最適化するために以下のように統合・構成します。

#### 2.2.1 メインページ

| ID | ページ名 | 主な目的 | 含まれる画面要素 | 優先度 | モックアップ | 実装状況 |
|----|---------|---------|----------------|-------|------------|---------|
| M-001 | 企業情報補完ツール | CSVインポートから結果出力まで | 全ての画面要素 | 高 | [main.html](/mockups/main.html) | 未着手 |

### 2.3 主要ルート定義

##### メインルート
| パス | ページID | 説明 |
|------|---------|------|
| `/` | M-001 | メインページ（単一ページアプリケーション） |

### 2.4 特殊な画面遷移

単一ページアプリケーションのため、特殊な画面遷移はありません。

### 2.5 共通レイアウト構成

#### レイアウトパターン
- **シングルページレイアウト**: ヘッダー + メインコンテンツエリア（シンプル構成）

#### ヘッダー要素
- アプリケーション名表示
- 使用方法へのリンク（モーダル表示）

## 3. ページ詳細

### 3.1 メインページ

#### 3.1.1 企業情報補完ツール (M-001)

**ページ概要**: CSVファイルのアップロードから企業情報の自動補完、結果のExcel出力まで全ての操作を行う単一ページ

**含まれる画面要素**:
- ファイルアップロードエリア: ドラッグ&ドロップ対応のCSVアップロード領域
- 処理ボタン: 「企業情報を検索」ボタン
- 進捗表示バー: 処理中の進捗状況をリアルタイム表示
- 結果テーブル: 補完された企業情報の一覧表示
- エクスポートボタン: 「Excelでダウンロード」ボタン
- エラー/通知エリア: 処理結果やエラーメッセージの表示

**状態と動作**:
- 初期状態: ファイルアップロードエリアのみ表示
- ファイルアップロード後: 処理ボタンが有効化
- 処理中: 進捗バーと処理状況を表示
- 処理完了: 結果テーブルとエクスポートボタンを表示

**データとAPI**:
- 入力データ: { 企業名リスト: string[] }
- 補完データ: { 
    企業名: string,
    正式名称: string,
    本社住所: string,
    本社電話番号: string,
    拠点情報: Array<{住所: string, 電話番号: string}>,
    業種: string,
    従業員数: string,
    ウェブサイトURL: string,
    情報取得元: string,
    取得日時: Date,
    補完ステータス: "成功" | "一部成功" | "失敗",
    エラー内容: string
  }

## 4. データモデル概要

### 4.1 主要エンティティ

| エンティティ | 主な属性 | 関連エンティティ | 備考 |
|------------|----------|----------------|------|
| 企業情報 | 企業名、正式名称、本社住所、電話番号、拠点情報、業種、従業員数、URL | なし | 検索結果として一時保存 |
| 検索結果メタデータ | 情報取得元、取得日時、信頼度スコア | 企業情報 | 情報の信頼性判定用 |

## 5. 特記すべき非機能要件

以下は標準的な実装方針から特に注意すべき点です：

- **完全ローカル動作**: サーバーを必要とせず、ユーザーのPC上で完結する実装
- **信頼性の高い情報源の優先**: 国税庁、官公庁、企業公式サイトなど信頼できる情報源を優先的に使用
- **処理性能**: 数百社規模の一括処理に対応（1社あたり2-3秒程度の処理時間を想定）
- **エラーハンドリング**: ネットワークエラーや検索失敗時の適切な処理と通知

## 6. 開発計画とマイルストーン

| フェーズ | 内容 | 期間 | ステータス |
|---------|------|------|----------|
| フェーズ1 | 要件定義・設計 | 1日 | 完了 |
| フェーズ2 | 基本機能実装（CSV読込、Excel出力） | 2日 | 未着手 |
| フェーズ3 | 企業情報検索機能実装 | 3日 | 未着手 |
| フェーズ4 | UI実装・統合テスト | 2日 | 未着手 |

## 7. 技術仕様メモ

- **実装方式**: Electron等を使用したデスクトップアプリケーション、またはローカルで動作するWebアプリケーション
- **検索実装**: Web Scraping APIまたはPuppeteer等を使用した自動検索
- **優先情報源**: 
  1. 国税庁法人番号公表サイト
  2. 各都道府県の企業情報データベース
  3. 企業公式ウェブサイト
  4. その他の信頼できる企業情報サイト